<head>
<script src="wuy.js"></script>
<script>
function rep(x) {
    document.getElementById("rep").innerHTML=x;
    if(x) setTimeout( ()=>{rep('')},500)
}
function event(x) {
    document.getElementById("event").innerHTML=x;
    if(x) setTimeout( ()=>{event('')},500)
}
</script>
</head>
<body>
    Returned:<span id="rep"></span><br/>
    Event:<span id="event"></span><br/>

    <button onclick="wuy.my_python_method(42,43).then( rep )">call a py method</button><br/>
    <button onclick="wuy.my_python_method2(42).then( rep )">call a py method (which send a event)</button><br/>
    <button onclick="wuy.emit('js_event','from JS').then( rep )">send an event to everybody (except me)</button><br/>
    <button onclick="wuy.my_python_exit()">exit app (server)</button><br/>
    <button onclick="window.close()">exit app (client)</button><br/>
    <a href="unknown">Quit by redirect to an unknown page</a>

    <script>
        wuy.on("js_event", event )
    </script>


</body>

